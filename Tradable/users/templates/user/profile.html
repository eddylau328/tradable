{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block style %}
<style>
.id_image{
    border:0;
    color: gray;
    background-color: white;
    font-size: 0.5rem;

}

.upload-wrapper {
  position: relative;
  overflow: hidden;
  display: inline-block;
  height: 1.5rem;
}

.upload-wrapper input[type=file] {
  font-size: 1rem;
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
}

</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="card" >
        <form method='POST' enctype='multipart/form-data'>    {% csrf_token %}
        <div class="card-body">
            <div class="m-2 row" >
                <a class="pt-1" id="icon" href="{{ user.profile.image.url }}"><img src="{{ user.profile.image.url }}" class="icon img-thumbnail rounded-circle p-0" style="width:3rem; height:3rem;"></a>
                <div class="col">
                <p class="card-text ml-1 pl-1 pt-1 my-0 py-0 row" style="font-size:1.3rem; height:1.8rem">{{ user.username }}</p>
                    <div class="upload-wrapper row ml-1"> 
                        <button class="id_image">Change Profile Picture</button>   
                        <input type="file" name="image" accept="image/*" id="id_image">
                    </div>
                </div>
            </div>
            {{ u_form|crispy }}
            <button class='btn btn-raised btn-secondary' type='submit'>Update</button>
        </div>
        </form>
    </div>
    <!--enctype='multipart/form-data' important-->
    <br>
</div>
{% endblock %}


{% block script %}
<script>
$( document ).ready(function() {
    $("#usericon").find("label").remove();
});
</script>
{% endblock %}