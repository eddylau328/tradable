{% extends 'base.html' %}

{% block style %}
<style>
</style>
{% endblock %}

{% block content %}
<div class="row container mx-auto justify-content-center">
    <div class="card bg-light border-secondary col-4 p-0 m-3">
        <div class="card-body p-0 m-0 ">
            <div class="container-fluid d-flex d-inline-flex my-3">
                <img src="{{ object.seller.profile.image.url }}" class="icon img-thumbnail rounded-circle p-0 " style="width:3rem; height:3rem;">
                <p id="sellername" class="card-text ml-1 pl-1 my-auto col-xl-8 col-7" style="font-size: 1.2rem;" >{{ object.seller }}</p>
            </div>
            <div id="photoslideshow" class="carousel slide w-100 p-0 d-flex align-items-center bg-light " style="overflow:hidden;" data-ride="carousel">
                <div class="carousel-inner "style="overflow:hidden;" >
                    <div class="carousel-item active ">
                        <img src="{{ object.displayPhoto.url }}" class="d-block w-100 d_image" alt="Image Not Found">
                    </div>
                    {% for pic in photo.all %} 
                        <div class="carousel-item ">
                            <img src="{{ pic.photo.url }}" class="  d-block w-100 d_image" alt="Image Not Found">
                        </div>
                    {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#photoslideshow" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#photoslideshow" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            
        </div>
    </div>
    <div class="card bg-light border-secondary  col-4 p-0 m-3">
        <div clas="card-body">
            <h3 class="border text-left p-1">{{object.name}}</h3>
            <div class="container-fluid">
                
                <div class="d-flex d-inline-flex"><i class="far fa-clock my-3"></i><p class="card-text my-auto ml-1">xxx ago Created by {{object.seller}}</p></div><br>
                <div class="d-flex d-inline-flex"><i class="fas fa-dollar-sign my-3 px-1"></i><p class="card-text my-auto ml-1">{{ object.price }}</p></div><br>
                <div class="d-flex d-inline-flex"><i class="far fa-question-circle my-3 "></i><p class="card-text my-auto ml-1">Description : {{ object.description }}</p></div><br>
                <div class="d-flex d-inline-flex"><i class="far fa-pause-circle my-3 " ></i><p class="card-text my-auto ml-1">Condition: {{object.condition}}</p></div><br>

            </div>
            <div class="col d-flex justify-content-center">
                <form action="" method="post">{% csrf_token %}
                    <button type="submit" button class="col btn btn-outline-primary mt-auto" name="back" value="back">Return to list</button>
                    <button type="submit" button class="col btn btn-outline-primary " name="seller" value="{{ object.seller }}">BUY!</button>
                </form>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block script%}
<script>
var set_carousell_h=function(){
	cw = $('.carousel').width();
    ch = $('.carousel').height();
	$('.carousel').css({
	'height': cw,
    });
    console.log(ch);

	$('.d_image').each(function(){
		current =$(this)
		var ih = current.height();
		var iw = current.width();
		if ( ih > iw ){
			t = (ch-ih)/2;
			current.css({'height':'auto','width':cw});

		}	
	});

}


$(function(){
    set_carousell_h();
})

$(window).resize(function() {
    set_carousell_h();
});
</script>

{% endblock %}
